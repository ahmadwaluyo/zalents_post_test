(this.webpackJsonppost_test_zalent=this.webpackJsonppost_test_zalent||[]).push([[0],{168:function(e,t,n){},258:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(24),r=n.n(s),i=(n(168),n(124)),o=n(25),l=n(262),d=n(271),u=n(59),j=n(280),b=n(50),m=n(82),h=n(46),g=n(42),p=n(38),O=n.n(p),f=n(65),x=n(81),v=n.n(x),y=n(160),k="SET_REGISTER",N="SET_LOGIN",w="SET_LOADING_LOGIN",T="SET_MODAL_ERROR_LOGIN",I="SET_ALL_TODOS",S="SET_LOADING_TODOS",E="SET_ALL_ITEMS",C="https://todos-project-api.herokuapp.com",_=function(e,t,n){return v()({url:e,method:"GET",params:n,headers:{Authorization:"Bearer ".concat(t)}})},L=function(e,t,n,a){return n?v()({url:e,method:"POST",params:a,data:t,headers:{Authorization:"Bearer ".concat(n)}}):v()({url:e,method:"POST",params:a,data:t})},R=function(e){return function(){var t=Object(f.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:S,status:!0}),t.next=3,_("".concat(C,"/todos"),e).then((function(t){var a=t.data;Promise.all(a.map(function(){var t=Object(f.a)(O.a.mark((function t(n){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_("".concat(C,"/todos/").concat(n.id,"/items"),e);case 2:a=t.sent,n.detail=a.data;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),setTimeout((function(){n({type:I,payload:a})}),1500)})).catch((function(e){y.a.error({message:e.message})})).finally((function(e){n({type:S,status:!1})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e,t,n,a){return function(c){L("".concat(C,"/todos/").concat(t,"/items"),n,e).then((function(s){s.data;"right"===a?(c(D(e,t-1,n.id,"moved")),y.a.success({message:"Item moved to right successfully !"})):"left"===a?(c(D(e,t+1,n.id,"moved")),y.a.success({message:"Item moved to left successfully !"})):y.a.success({message:"Item created successfully !"})})).catch((function(e){y.a.error({message:e.message})}))}},P=function(e,t,n,a){return function(c){(function(e,t,n,a){return v()({url:e,method:"PATCH",params:a,data:t,headers:{Authorization:"Bearer ".concat(n),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST,HEAD, OPTIONS,PUT, DELETE, PATCH"}})})("".concat(C,"/todos/").concat(t,"/items/").concat(n),a,e).then((function(e){var t=e.data;console.log(t),y.a.success({message:"Item has successfully updated !"})})).catch((function(e){y.a.error({message:"Network Error"===e.message?"Your request has been block by CORS policy !":"Invalid Input !"})}))}},D=function(e,t,n,a){return function(c){(function(e,t,n){return v()({url:e,method:"DELETE",params:n,headers:{Authorization:"Bearer ".concat(t),"Access-Control-Allow-Origin":"*"}})})("".concat(C,"/todos/").concat(t,"/items/").concat(n),e).then((function(e){var t=e.data;console.log(t),a||y.a.success({message:"Item deleted successfully !"})})).catch((function(e){y.a.error({message:"Failed to delete item !"})}))}},B=n(15),F=n(264),M=n(270),G=n(266),U=n(161),z=n(6),J=F.a.useForm;var q=Object(g.b)(null,(function(e){return{postTodo:function(t,n){return e(function(e,t){return function(){var n=Object(f.a)(O.a.mark((function n(a){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L("".concat(C,"/todos"),t,e).then((function(e){var t=e.data;console.log(t,"data post"),y.a.success({message:"Todo created successfully !"})})).catch((function(e){y.a.error({message:e.message})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=J(),n=Object(g.c)(),c=Object(a.useState)({visible:!1}),s=Object(b.a)(c,2),r=s[0],i=s[1],o=function(){i(Object(B.a)(Object(B.a)({},r),{},{visible:!1}))};return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(u.a,{type:"dashed",block:!0,onClick:function(){i(Object(B.a)(Object(B.a)({},r),{},{visible:!0}))},children:[Object(z.jsx)(U.a,{}),"Add Todos"]}),Object(z.jsx)(M.a,{title:"Create a new todos",onClose:o,visible:r.visible,bodyStyle:{paddingBottom:80},children:Object(z.jsxs)(F.a,{layout:"vertical",hideRequiredMark:!0,onFinish:function(a){var c=JSON.parse(localStorage.getItem("isLogin"));e.postTodo(c.token,a),o(),n(R(c.token)),t.resetFields()},children:[Object(z.jsx)(F.a.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Title must be filled !"}],children:Object(z.jsx)(G.a,{placeholder:"Please enter the title"})}),Object(z.jsx)(F.a.Item,{name:"description",label:"Descriptions",rules:[{required:!0,message:"Descriptions must be filled !"}],children:Object(z.jsx)(G.a,{style:{width:"100%"},placeholder:"Please enter descriptions"})}),Object(z.jsxs)("div",{style:{textAlign:"left"},children:[Object(z.jsx)(u.a,{onClick:o,style:{marginRight:8},children:"Cancel"}),Object(z.jsx)(u.a,{htmlType:"submit",type:"primary",children:"Submit"})]})]})})]})})),H=n(272),Y=n(263),V=n(268),W=n(273),Z=n(267),K=n(274),Q=n(269),X=n(265),$=n(275),ee=n(276),te=n(277),ne=n(278),ae=n(279),ce=n(162),se=JSON.parse(localStorage.getItem("isLogin")),re=["magenta","mediumpurple","blue","lightgreen"],ie=Object(g.b)((function(e){return{loadingTodos:e.todosReducer.loadingTodos}}),(function(e){return{postingItems:function(t,n,a){return e(A(t,n,a))},deletingItems:function(t,n,a){return e(D(t,n,a))},updatingItems:function(t,n,a,c){return e(P(t,n,a,c))}}}))((function(e){var t=e.data,n=e.index,c=e.postingItems,s=e.deletingItems,r=e.flagSend,i=e.cards,o=e.loadingTodos,l=e.updatingItems,d=Object(g.c)(),j=Object(a.useState)(!1),p=Object(b.a)(j,2),O=p[0],f=p[1],x=Object(a.useState)({name:"",progress_percentage:0,id:0,editable:!1}),v=Object(b.a)(x,2),y=v[0],k=v[1],N=function(){f(!1)},w=function(e,n){switch(n){case"right":d(function(e,t,n){return function(a){a(A(e,t+1,n,"right"))}}(se.token,t.id,{id:e.id,name:e.name,progress_percentage:e.progress_percentage})),r(),setTimeout((function(){r()}),1e3);break;default:d(function(e,t,n){return function(a){a(A(e,t-1,n,"left"))}}(se.token,t.id,{id:e.id,name:e.name,progress_percentage:e.progress_percentage})),r(),setTimeout((function(){r()}),1e3)}};Object(a.useEffect)((function(){o?console.log("dataLoadeds"):r()}),[]);var T=function(e){return Object(z.jsxs)(H.b,{direction:"vertical",className:"con-card",children:[0===n?Object(z.jsxs)(h.a,{className:"centered",onClick:function(){return w(e,"right")},children:[Object(z.jsx)($.a,{className:"icon"}),"Move Right"]}):n===i.length-1?Object(z.jsxs)(h.a,{className:"centered",onClick:function(){return w(e,"left")},children:[Object(z.jsx)(ee.a,{className:"icon"}),"Move Left"]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(h.a,{className:"centered",onClick:function(){return w(e,"right")},children:[Object(z.jsx)($.a,{className:"icon"}),"Move Right"]}),Object(z.jsxs)(h.a,{className:"centered",onClick:function(){return w(e,"left")},children:[Object(z.jsx)(ee.a,{className:"icon"}),"Move Left"]})]}),Object(z.jsxs)(h.a,{className:"centered",onClick:function(){return t=e,console.log(t,"detail"),k(Object(B.a)(Object(B.a)({},y),{},{name:t.name,progress_percentage:+t.progress_percentage,id:t.id,editable:!0})),void f(!0);var t},children:[Object(z.jsx)(te.a,{className:"icon"}),"Edit"]}),Object(z.jsxs)(h.a,{className:"centered",onClick:function(){return t=e,s(se.token,t.todo_id,t.id),void r();var t},children:[Object(z.jsx)(ne.a,{className:"icon"}),"Delete"]})]})};return Object(z.jsxs)(h.a,{lg:6,md:6,xl:6,xs:24,children:[Object(z.jsx)(Y.a,{style:{borderColor:re[n]||"green",borderWidth:1.9,marginBottom:10},actions:[Object(z.jsxs)(m.a,{style:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600},onClick:0===n?function(){f(!0)}:null,children:[Object(z.jsx)(ae.a,{},"add"),"\xa0",Object(z.jsx)("span",{style:{fontSize:12},children:"New Task"})]}),null,null],children:Object(z.jsxs)(V.a,{loading:o,avatar:!0,active:!0,children:[Object(z.jsxs)(H.b,{direction:"vertical",children:[Object(z.jsx)(h.a,{children:Object(z.jsx)(W.a,{color:re[n]||"green",children:t.title})}),Object(z.jsx)(h.a,{children:Object(z.jsx)("span",{className:"month",children:t.description})})]}),t.detail&&t.detail.length>0?t.detail.map((function(e,t){return Object(z.jsx)(Y.a,{style:{marginTop:5,padding:0},className:"card-detail",actions:[Object(z.jsx)(Z.a,{percent:e.progress_percentage||0,size:"small",status:"active",style:{width:"60%"}}),Object(z.jsx)(K.a,{placement:"rightTop",content:function(){return T(e)},trigger:"hover",children:Object(z.jsx)(ce.a,{},"ellipsis")})],children:Object(z.jsx)("span",{className:"card-title",children:e.name})},t)})):Object(z.jsx)(Y.a,{style:{marginTop:5,padding:0},children:Object(z.jsx)(G.a,{placeholder:"No Task Available",disabled:!0})})]})}),O?Object(z.jsx)(Q.a,{visible:O,onCancel:N,centered:!0,title:"Create Task",footer:null,children:Object(z.jsxs)(F.a,{onFinish:y.editable?function(e){console.log(e,"ini value"),l(se.token,t.id,y.id,{name:e.name,target_todo_id:y.id}),k(Object(B.a)(Object(B.a)({},y),{},{name:"",progress_percentage:0,id:0,editable:!1})),f(!1),r()}:function(e){c(se.token,t.id,e),f(!1),r()},children:[Object(z.jsx)(F.a.Item,{name:"name",style:{width:"50%"},initialValues:y.name,rules:[{required:!0,message:"Task name must be filled !"}],children:Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(z.jsx)("label",{children:"Task Name"}),Object(z.jsx)(G.a,{placeholder:"example: Build rocket to Mars",defaultValue:y.name})]})}),Object(z.jsx)(F.a.Item,{name:"progress_percentage",style:{width:"50%"},rules:[{required:!0,message:"Progress must be filled !"}],children:Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(z.jsx)("label",{children:"Progress"}),Object(z.jsx)(X.a,{placeholder:"0%",min:0,max:100,defaultValue:y.progress_percentage})]})}),Object(z.jsxs)("div",{style:{textAlign:"right"},children:[Object(z.jsx)(u.a,{onClick:N,style:{marginRight:8},children:"Cancel"}),Object(z.jsxs)(u.a,{htmlType:"submit",type:"primary",children:[y.editable?"Edit":"Save"," Task"]})]})]})}):null]})})),oe=JSON.parse(localStorage.getItem("isLogin"));var le=Object(g.b)((function(e){return{cards:e.todosReducer.todos}}),(function(e){return{getAllTodos:function(){return e(R(oe.token))}}}))((function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),c=n[0],s=n[1],r=function(){e.getAllTodos(oe.token),s(!1)};return Object(a.useEffect)((function(){(null===e||void 0===e?void 0:e.cards.length)?console.log("dataLoadeds"):r()}),[]),Object(a.useEffect)((function(){c&&r()}),[c]),Object(z.jsx)(m.a,{gutter:24,children:e.cards&&e.cards.length>0?Object(z.jsxs)(z.Fragment,{children:[e.cards.map((function(t,n){return Object(z.jsx)(ie,{cards:e.cards,postingItems:e.postingItems,reLoad:e.getAllTodos,deletingItems:e.deletingItems,data:t,index:n,flagSend:function(){return s(!0)}},n)})),Object(z.jsx)(h.a,{lg:6,md:6,xs:12,children:Object(z.jsx)(q,{})})]}):Object(z.jsx)(h.a,{lg:6,md:6,xs:12,children:Object(z.jsx)(q,{})})})})),de=l.a.Content,ue=l.a.Footer,je=l.a.Sider;function be(){var e=Object(o.f)();return Object(z.jsxs)(l.a,{className:"layout",children:[Object(z.jsxs)(je,{breakpoint:"md",width:"100px",onBreakpoint:function(e){console.log(e)},children:[Object(z.jsx)(d.a,{theme:"dark",mode:"inline",children:Object(z.jsx)("div",{onClick:function(){return e.push("/")},className:"logo",children:"Zalents"})}),Object(z.jsx)(d.a,{theme:"dark",mode:"inline",style:{position:"absolute",bottom:0},onClick:function(){localStorage.removeItem("isLogin"),window.location.reload()},children:Object(z.jsx)(u.a,{type:"danger",style:{width:"100%"},children:Object(z.jsx)(j.a,{})})})]}),Object(z.jsxs)(l.a,{children:[Object(z.jsx)(de,{children:Object(z.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:"100%"},children:[Object(z.jsx)("h3",{className:"title",children:"Product Roadmap"}),Object(z.jsx)(le,{})]})}),Object(z.jsx)(ue,{style:{textAlign:"center"},children:"Ant Design \xa92018 Created by Ant UED"})]})]})}var me=function(){var e=Object(g.c)(),t=Object(a.useState)({name:"",email:"",password:"",confirmPassword:""}),n=Object(b.a)(t,2),c=n[0],s=n[1],r=function(t,n){switch(n.preventDefault(),t){case"login":e((a={email:c.email,password:c.password},function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:w,status:!0}),e.next=3,L("".concat(C,"/auth/login"),a).then((function(e){var n=e.data,a={status:!0,token:n.auth_token};localStorage.setItem("isLogin",JSON.stringify(a,null,2)),t({type:N,token:n.auth_token,message:n.message}),window.location.reload()})).catch((function(e){y.a.error({message:"Your input is invalid !"})})).finally((function(e){t({type:w,status:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));break;default:e(function(e){return function(){var t=Object(f.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L("".concat(C,"/signup"),e).then((function(e){var t=e.data;n({type:k,token:t.auth_token,message:t.message}),y.a.success({message:"account successfully registered !"})})).catch((function(e){n({type:"SET_MODAL_ERROR_REGISTER",payload:{title:"ERROR REGISTER ACCOUNT!",body:"Your input is invalid !"}}),y.a.error({message:"Your input is invalid !"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c))}var a;s({name:"",email:"",password:"",confirmPassword:""})};return Object(a.useEffect)((function(){var e=document.getElementById("signUp"),t=document.getElementById("signIn"),n=document.getElementById("signUpResponsive"),a=document.getElementById("signInResponsive"),c=document.getElementById("container");e.addEventListener("click",(function(){c.classList.add("right-panel-active")})),t.addEventListener("click",(function(){c.classList.remove("right-panel-active")})),n.addEventListener("click",(function(){c.classList.add("right-panel-active")})),a.addEventListener("click",(function(){c.classList.remove("right-panel-active")}))})),Object(z.jsx)("div",{className:"container-login",children:Object(z.jsxs)("div",{className:"container",id:"container",children:[Object(z.jsxs)("div",{className:"form-container sign-up-container",children:[Object(z.jsxs)("form",{children:[Object(z.jsx)("h1",{children:"Create Account"}),Object(z.jsx)("span",{children:"or use your email for registration"}),Object(z.jsx)("input",{type:"text",placeholder:"Name",value:c.name,onChange:function(e){return s(Object(B.a)(Object(B.a)({},c),{},{name:e.target.value}))}}),Object(z.jsx)("input",{type:"email",placeholder:"Email",value:c.email,onChange:function(e){return s(Object(B.a)(Object(B.a)({},c),{},{email:e.target.value}))}}),Object(z.jsx)("input",{type:"password",placeholder:"Password",value:c.password,onChange:function(e){return s(Object(B.a)(Object(B.a)({},c),{},{password:e.target.value}))}}),Object(z.jsx)("input",{type:"password",placeholder:"Confirm Password",value:c.confirmPassword,onChange:function(e){return s(Object(B.a)(Object(B.a)({},c),{},{confirmPassword:e.target.value}))}}),Object(z.jsx)("button",{className:"sign-btn",onClick:function(e){return r("register",e)},children:"Sign Up"})]}),Object(z.jsxs)("div",{className:"overlay-panel overlay-left",children:[Object(z.jsx)("span",{className:"responsive-span",children:"you don't have account ?"}),Object(z.jsx)("button",{className:"responsive-btn",id:"signInResponsive",children:"Sign In"})]})]}),Object(z.jsxs)("div",{className:"form-container sign-in-container",children:[Object(z.jsxs)("form",{children:[Object(z.jsx)("h1",{children:"Sign in"}),Object(z.jsxs)("div",{className:"social-container",children:[Object(z.jsx)("span",{className:"social",children:Object(z.jsx)("i",{className:"fab fa-facebook-f"})}),Object(z.jsx)("span",{className:"social",children:Object(z.jsx)("i",{className:"fab fa-google-plus-g"})}),Object(z.jsx)("span",{className:"social",children:Object(z.jsx)("i",{className:"fab fa-linkedin-in"})})]}),Object(z.jsx)("span",{children:"or use your account"}),Object(z.jsx)("input",{type:"email",placeholder:"Email",value:c.email,onChange:function(e){return s(Object(B.a)(Object(B.a)({},c),{},{email:e.target.value}))}}),Object(z.jsx)("input",{type:"password",placeholder:"Password",value:c.password,onChange:function(e){return s(Object(B.a)(Object(B.a)({},c),{},{password:e.target.value}))}}),Object(z.jsx)("button",{className:"sign-btn",onClick:function(e){return r("login",e)},children:"Sign In"})]}),Object(z.jsxs)("div",{className:"overlay-panel overlay-right",children:[Object(z.jsx)("span",{className:"responsive-span",children:"already have account ?"}),Object(z.jsx)("button",{className:"responsive-btn",id:"signUpResponsive",children:"Sign Up"})]})]}),Object(z.jsx)("div",{className:"overlay-container",children:Object(z.jsxs)("div",{className:"overlay",children:[Object(z.jsxs)("div",{className:"overlay-panel overlay-left",children:[Object(z.jsx)("h1",{children:"Welcome Back!"}),Object(z.jsx)("p",{children:"To keep connected with us please login with your personal info"}),Object(z.jsx)("button",{className:"ghost",id:"signIn",children:"Sign In"})]}),Object(z.jsxs)("div",{className:"overlay-panel overlay-right",children:[Object(z.jsx)("h1",{children:"Hello, Friend!"}),Object(z.jsx)("p",{children:"Enter your personal details and start journey with us"}),Object(z.jsx)("button",{className:"ghost",id:"signUp",children:"Sign Up"})]})]})})]})})},he=(n(258),n(259),JSON.parse(localStorage.getItem("isLogin")));var ge=function(){return Object(z.jsx)(i.a,{children:Object(z.jsx)(o.c,{children:Object(z.jsx)(o.a,{path:"/",exact:!0,children:he?Object(z.jsx)(be,{}):Object(z.jsx)(me,{})})})})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,281)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},Oe=n(157),fe=n(127),xe=function(e){return function(t,n,a){return e((function(e,n){var a,c=performance.now(),s=t(e,n),r=performance.now(),i=(a=r-c,Math.round(100*a)/100);return console.log("reducer process time:",i),s}),n,a)}},ve=function(e){return function(e){return function(t){return e(t)}}},ye=n(44),ke={token:"",messageError:"",loadingLogin:!1},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(B.a)(Object(B.a)({},e),{},{token:t.token});case T:return Object(B.a)(Object(B.a)({},e),{},{messageError:t.payload.body});case w:return Object(B.a)(Object(B.a)({},e),{},{loadingLogin:t.status});default:return e}},we={name:"",email:"",password:"",password_confirmation:""},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(B.a)({},e);default:return e}},Ie={todos:[],loadingTodos:!1},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(B.a)(Object(B.a)({},e),{},{todos:t.payload});case S:return Object(B.a)(Object(B.a)({},e),{},{loadingTodos:t.status});default:return e}},Ee={items:[]},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(B.a)(Object(B.a)({},e),{},{items:t.payload});default:return e}},_e=Object(ye.b)({loginReducer:Ne,registerReducer:Te,todosReducer:Se,itemsReducer:Ce});var Le,Re=Object(fe.a)({reducer:_e,middleware:[ve].concat(Object(Oe.a)(Object(fe.b)())),preloadedState:Le,enhancers:[xe]});r.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(g.a,{store:Re,children:Object(z.jsx)(ge,{})})}),document.getElementById("root")),pe()}},[[260,1,2]]]);
//# sourceMappingURL=main.b1f3673c.chunk.js.map